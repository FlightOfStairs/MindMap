@(cv: CV)

@import org.joda.time.YearMonth

@formatYearMonth(showMonth: Boolean)(yearMonth: YearMonth) = {
    @if(showMonth) {@yearMonth.monthOfYear.getAsText }@yearMonth.getYear
}

@workTemplate(showMonth: Boolean)(work: Work) = {
    <h3>@work.org <small>@work.title</small></h3>
    <p>@formatYearMonth(showMonth)(work.from) &ndash; @work.to.map(formatYearMonth(showMonth)).getOrElse("Present")</p>
    <p>@Html(work.description)</p>
}

@awardsTemplate(awards: List[String]) = {
    <h4>Awards</h4>
    <ul>
    @awards.map { award =>
        <li>@Html(award)</li>
    }
    </ul>
}

@main(Messages("title"), "cv") {
<div class="panel panel-default">
    <div class="panel-heading print"><h1>@cv.name</h1></div>
    <div class="panel-body">
        <div>
            <h2>Tech skills</h2>
            <dl class="dl-horizontal">
            @cv.skills.map { case SkillArea(area, skills) =>
            <dt>@area</dt>
            <dd>@skills</dd>
            }
            </dl>
        </div>
        <hr />
        <div>
            <h2>Work history</h2>
            @cv.employment.map(workTemplate(showMonth = true))
        </div>
        <hr />
        <div>
            <h2>Education</h2>
            @cv.uni match { case Education(work, awards) =>
                @workTemplate(showMonth = false)(work)
                @awardsTemplate(awards)
            }
        </div>
        <hr />
        <div>
            <h2>Contact</h2>
            <dl class="dl-horizontal">
                <dt>Phone</dt>
                <dd>@cv.phone</dd>

                <dt>Email</dt>
                <dd><a href="mailto:#">@cv.email</a></dd>
            </dl>
            <dl class="dl-horizontal print">
            @for((title, url, icon) <- models.constants.links) {
                <dt><i style="margin-right: 0.5em" class="fa fa-@icon"></i> @title</dt>
                <dd><a href="@url" target="_blank">@url</a></dd>
            }
            </dl>
        </div>
    </div>
</div>
}
