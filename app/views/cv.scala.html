@import org.joda.time.YearMonth
@import models._

@formatYearMonth(month: Boolean)(yearMonth: YearMonth) = {
    @if(month) {@yearMonth.monthOfYear.getAsText }@yearMonth.getYear
}

@workTemplate(month: Boolean)(work: Work) = {
    <h3>@work.org <small>@work.title</small></h3>
    <p>@formatYearMonth(month)(work.from) &ndash; @work.to.map(formatYearMonth(month)).getOrElse("Present")</p>
    <p>@Html(work.description)</p>
}

@awardsTemplate(awards: List[String]) = {
    <h4>Awards</h4>
    <ul>
    @awards.map { award =>
        <li>@Html(award)</li>
    }
    </ul>
}

@main(Messages("title"), "cv") {
    <div class="panel panel-default">
    <div class="panel-body">
        <p>@models.CV.phone</p>
        <a href="mailto:#">@models.CV.email</a>
        <div>
            <h2>Tech skills</h2>
            <dl class="dl-horizontal">
            @models.CV.skills.map { case SkillArea(area, skills) =>
            <dt>@area</dt>
            <dd>@skills</dd>
            }
            </dl>
        </div>
        <hr />
        <div>
            <h2>Work history</h2>
            @models.CV.employment.map(workTemplate(true))
        </div>
        <hr />
        <div>
            <h2>Education</h2>
            @models.CV.uni match { case Education(work, awards) =>
                @workTemplate(false)(work)
                @awardsTemplate(awards)
            }
        </div>
    </div>
</div>
}
